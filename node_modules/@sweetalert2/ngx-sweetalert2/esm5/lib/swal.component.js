/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { ChangeDetectionStrategy, Component, EventEmitter, Inject, Input, Output } from '@angular/core';
import { dismissOnDestroyToken } from './di';
import { SweetAlert2LoaderService } from './sweetalert2-loader.service';
/**
 * <swal> component. See the README.md for usage.
 *
 * It contains a bunch of \@Inputs that have a perfect 1:1 mapping with SweetAlert2 options.
 * Their types are directly coming from SweetAlert2 types defintitions, meaning that ngx-sweetalert2 is tightly coupled
 * to SweetAlert2, but also is type-safe.
 *
 * (?) If you want to use an object that declares the SweetAlert2 options all at once rather than many \@Inputs,
 *     take a look at [swalOptions], that lets you pass a full {\@link SweetAlertOptions} object.
 *
 * (?) If you are reading the TypeScript source of this component, you may think that it's a lot of code.
 *     Be sure that a lot of this code is types and Angular boilerplate. Compiled and minified code is much smaller.
 *     If you are really concerned about performance and/or don't care about the API and its convenient integration
 *     with Angular (notably change detection and transclusion), you may totally use SweetAlert2 natively as well ;)
 *
 * /!\ Some SweetAlert options aren't \@Inputs but \@Outputs: onBeforeOpen, onOpen, onClose and onAfterClose
 *     (but without "on*" prefix to respect community standards).
 *     However, preConfirm and inputValidator are still \@Inputs because there are not event handlers, there can't be
 *     multiple listeners and we need the values they can/must return.
 */
var SwalComponent = /** @class */ (function () {
    function SwalComponent(sweetAlert2Loader, moduleLevelDismissOnDestroy) {
        this.sweetAlert2Loader = sweetAlert2Loader;
        this.moduleLevelDismissOnDestroy = moduleLevelDismissOnDestroy;
        /**
         * Emits an event when the modal DOM element has been created.
         * Useful to perform DOM mutations before the modal is shown.
         */
        this.beforeOpen = new EventEmitter();
        /**
         * Emits an event when the modal is shown.
         */
        this.open = new EventEmitter();
        /**
         * Emits an event when the modal DOM is rendered.
         */
        this.render = new EventEmitter();
        /**
         * Emits an event when the modal will be closed.
         * If you just want to know when the user dismissed the modal, prefer the higher-level (cancel) output.
         */
        this.close = new EventEmitter();
        /**
         * Emits an event after the modal had been closed.
         * If you just want to know when the user dismissed the modal, prefer the higher-level (cancel) output.
         */
        this.afterClose = new EventEmitter();
        /**
         * Emits when the user clicks "Confirm".
         * Bears a value when using "input", resolved "preConfirm", etc.
         *
         * Example:
         *     <swal (confirm)="handleConfirm($event)"></swal>
         *
         *     public handleConfirm(email: string): void {
         *         // ... save user email
         *     }
         */
        this.confirm = new EventEmitter();
        /**
         * Emits when the user clicks "Cancel", or dismisses the modal by any other allowed way.
         * By default, it will emit a string representing the reason for which the SweetAlert has been closed.
         * The reason is `undefined` when {\@link dismiss} is called.
         *
         * Example:
         *     <swal (cancel)="handleCancel($event)"></swal>
         *
         *     public handleCancel(reason: DismissReason | undefined): void {
         *         // reason can be 'cancel', 'overlay', 'close', 'timer' or undefined.
         *         // ... do something
         *     }
         */
        this.cancel = new EventEmitter();
        /**
         * This Set retains the properties that have been changed from \@Inputs, so we can know precisely
         * what options we have to send to {\@link Swal.fire}.
         */
        this.touchedProps = new Set();
        /**
         * A function of signature `(propName: string): void` that adds a given property name to the list of
         * touched properties, ie. {\@link touchedProps}.
         */
        this.markTouched = this.touchedProps.add.bind(this.touchedProps);
        /**
         * Is the SweetAlert2 modal represented by this component currently opened?
         */
        this.isCurrentlyShown = false;
    }
    Object.defineProperty(SwalComponent.prototype, "swalOptions", {
        /**
         * Computes the options object that will get passed to SweetAlert2.
         * Only the properties that have been set at least once on this component will be returned.
         * Mostly for internal usage.
         */
        get: /**
         * Computes the options object that will get passed to SweetAlert2.
         * Only the properties that have been set at least once on this component will be returned.
         * Mostly for internal usage.
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var options = {};
            //=> We will compute the options object based on the option keys that are known to have changed.
            //   That avoids passing a gigantic object to SweetAlert2, making debugging easier and potentially
            //   avoiding side effects.
            this.touchedProps.forEach((/**
             * @param {?} prop
             * @return {?}
             */
            function (prop) {
                options[prop] = _this[(/** @type {?} */ (prop))];
            }));
            return options;
        },
        /**
         * An object of SweetAlert2 native options, useful if:
         *  - you don't want to use the @Inputs for practical/philosophical reasons ;
         *  - there are missing @Inputs because ngx-sweetalert2 isn't up-to-date with SweetAlert2's latest changes.
         *
         * /!\ Please note that setting this property does NOT erase what has been set before unless you specify the
         *     previous properties you want to erase again.
         *     Ie. setting { title: 'Title' } and then { text: 'Text' } will give { title: 'Title', text: 'Text' }.
         *
         * /!\ Be aware that the options defined in this object will override the @Inputs of the same name.
         */
        set: /**
         * An object of SweetAlert2 native options, useful if:
         *  - you don't want to use the \@Inputs for practical/philosophical reasons ;
         *  - there are missing \@Inputs because ngx-sweetalert2 isn't up-to-date with SweetAlert2's latest changes.
         *
         * /!\ Please note that setting this property does NOT erase what has been set before unless you specify the
         *     previous properties you want to erase again.
         *     Ie. setting { title: 'Title' } and then { text: 'Text' } will give { title: 'Title', text: 'Text' }.
         *
         * /!\ Be aware that the options defined in this object will override the \@Inputs of the same name.
         * @param {?} options
         * @return {?}
         */
        function (options) {
            //=> Update properties
            Object.assign(this, options);
            //=> Mark changed properties as touched
            /** @type {?} */
            var touchedKeys = (/** @type {?} */ (Object.keys(options)));
            touchedKeys.forEach(this.markTouched);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Angular lifecycle hook.
     * Asks the SweetAlert2 loader service to preload the SweetAlert2 library, so it begins to be loaded only if there
     * is a <swal> component somewhere, and is probably fully loaded when the modal has to be displayed,
     * causing no delay.
     */
    /**
     * Angular lifecycle hook.
     * Asks the SweetAlert2 loader service to preload the SweetAlert2 library, so it begins to be loaded only if there
     * is a <swal> component somewhere, and is probably fully loaded when the modal has to be displayed,
     * causing no delay.
     * @return {?}
     */
    SwalComponent.prototype.ngOnInit = /**
     * Angular lifecycle hook.
     * Asks the SweetAlert2 loader service to preload the SweetAlert2 library, so it begins to be loaded only if there
     * is a <swal> component somewhere, and is probably fully loaded when the modal has to be displayed,
     * causing no delay.
     * @return {?}
     */
    function () {
        //=> Preload SweetAlert2 library in case this component is activated.
        this.sweetAlert2Loader.preloadSweetAlertLibrary();
    };
    /**
     * Angular lifecycle hook.
     * Updates the SweetAlert options, and if the modal is opened, asks SweetAlert to render it again.
     */
    /**
     * Angular lifecycle hook.
     * Updates the SweetAlert options, and if the modal is opened, asks SweetAlert to render it again.
     * @param {?} changes
     * @return {?}
     */
    SwalComponent.prototype.ngOnChanges = /**
     * Angular lifecycle hook.
     * Updates the SweetAlert options, and if the modal is opened, asks SweetAlert to render it again.
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        //=> For each changed @Input that matches a SweetAlert2 option, mark as touched so we can
        //   send it with the next fire() or update() calls.
        Object.keys(changes)
            //=> If the filtering logic becomes more complex here, we can use Swal.isValidParameter
            .filter((/**
         * @param {?} prop
         * @return {?}
         */
        function (prop) { return !prop.startsWith('swal'); }))
            .forEach(this.markTouched);
        //=> Eventually trigger re-render if the modal is open.
        void this.update();
    };
    /**
     * Angular lifecycle hook.
     * Closes the SweetAlert when the component is destroyed.
     */
    /**
     * Angular lifecycle hook.
     * Closes the SweetAlert when the component is destroyed.
     * @return {?}
     */
    SwalComponent.prototype.ngOnDestroy = /**
     * Angular lifecycle hook.
     * Closes the SweetAlert when the component is destroyed.
     * @return {?}
     */
    function () {
        //=> Release the modal if the component is destroyed and if that behaviour is not disabled.
        /** @type {?} */
        var dismissOnDestroy = this.swalDismissOnDestroy === undefined
            ? this.moduleLevelDismissOnDestroy
            : this.swalDismissOnDestroy;
        dismissOnDestroy && this.dismiss();
    };
    /**
     * Shows the SweetAlert.
     *
     * Returns the SweetAlert2 promise for convenience and use in code behind templates.
     * Otherwise, (confirm)="myHandler($event)" and (cancel)="myHandler($event)" can be used in templates.
     */
    /**
     * Shows the SweetAlert.
     *
     * Returns the SweetAlert2 promise for convenience and use in code behind templates.
     * Otherwise, (confirm)="myHandler($event)" and (cancel)="myHandler($event)" can be used in templates.
     * @return {?}
     */
    SwalComponent.prototype.fire = /**
     * Shows the SweetAlert.
     *
     * Returns the SweetAlert2 promise for convenience and use in code behind templates.
     * Otherwise, (confirm)="myHandler($event)" and (cancel)="myHandler($event)" can be used in templates.
     * @return {?}
     */
    function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var swal, options, result;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.sweetAlert2Loader.swal];
                    case 1:
                        swal = _a.sent();
                        //=> Build the SweetAlert2 options
                        options = tslib_1.__assign({}, this.swalOptions, { onBeforeOpen: (/**
                             * @param {?} modalElement
                             * @return {?}
                             */
                            function (modalElement) {
                                _this.beforeOpen.emit({ modalElement: modalElement });
                            }), onOpen: (/**
                             * @param {?} modalElement
                             * @return {?}
                             */
                            function (modalElement) {
                                _this.isCurrentlyShown = true;
                                _this.open.emit({ modalElement: modalElement });
                            }), onRender: (/**
                             * @param {?} modalElement
                             * @return {?}
                             */
                            function (modalElement) {
                                _this.render.emit({ modalElement: modalElement });
                            }), onClose: (/**
                             * @param {?} modalElement
                             * @return {?}
                             */
                            function (modalElement) {
                                _this.isCurrentlyShown = false;
                                _this.close.emit({ modalElement: modalElement });
                            }), onAfterClose: (/**
                             * @return {?}
                             */
                            function () {
                                _this.afterClose.emit();
                            }) });
                        //=> Show the Swal! And wait for confirmation or dimissal.
                        return [4 /*yield*/, swal.fire(options)];
                    case 2:
                        result = _a.sent();
                        //=> Emit on (confirm) or (cancel)
                        if ('value' in result) {
                            this.confirm.emit(result.value);
                        }
                        else {
                            this.cancel.emit(result.dismiss);
                        }
                        return [2 /*return*/, result];
                }
            });
        });
    };
    /**
     * Closes the modal, if opened.
     *
     * @param result The value that the modal will resolve with, triggering either (confirm) or (cancel).
     *               If the argument is not passed, (dimiss) will emit `undefined`.
     *               See {@link Swal.close}
     */
    /**
     * Closes the modal, if opened.
     *
     * @param {?=} result The value that the modal will resolve with, triggering either (confirm) or (cancel).
     *               If the argument is not passed, (dimiss) will emit `undefined`.
     *               See {\@link Swal.close}
     * @return {?}
     */
    SwalComponent.prototype.dismiss = /**
     * Closes the modal, if opened.
     *
     * @param {?=} result The value that the modal will resolve with, triggering either (confirm) or (cancel).
     *               If the argument is not passed, (dimiss) will emit `undefined`.
     *               See {\@link Swal.close}
     * @return {?}
     */
    function (result) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var swal;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.isCurrentlyShown)
                            return [2 /*return*/];
                        return [4 /*yield*/, this.sweetAlert2Loader.swal];
                    case 1:
                        swal = _a.sent();
                        swal.close(result);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Updates SweetAlert2 options while the modal is opened, causing the modal to re-render.
     * If the modal is not opened, the component options will simply be updated and that's it.
     *
     * /!\ Please note that not all SweetAlert2 options are updatable while the modal is opened.
     *
     * @param options
     */
    /**
     * Updates SweetAlert2 options while the modal is opened, causing the modal to re-render.
     * If the modal is not opened, the component options will simply be updated and that's it.
     *
     * /!\ Please note that not all SweetAlert2 options are updatable while the modal is opened.
     *
     * @param {?=} options
     * @return {?}
     */
    SwalComponent.prototype.update = /**
     * Updates SweetAlert2 options while the modal is opened, causing the modal to re-render.
     * If the modal is not opened, the component options will simply be updated and that's it.
     *
     * /!\ Please note that not all SweetAlert2 options are updatable while the modal is opened.
     *
     * @param {?=} options
     * @return {?}
     */
    function (options) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var swal, allOptions, updatableOptions;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (options) {
                            this.swalOptions = options;
                        }
                        if (!this.isCurrentlyShown)
                            return [2 /*return*/];
                        return [4 /*yield*/, this.sweetAlert2Loader.swal];
                    case 1:
                        swal = _a.sent();
                        allOptions = this.swalOptions;
                        updatableOptions = Object.keys(allOptions)
                            .filter((/**
                         * @param {?} key
                         * @return {?}
                         */
                        function (key) { return swal.isUpdatableParameter(key); }))
                            .reduce((/**
                         * @param {?} obj
                         * @param {?} key
                         * @return {?}
                         */
                        function (obj, key) {
                            obj[key] = allOptions[key];
                            return obj;
                        }), (/** @type {?} */ ({})));
                        swal.update(updatableOptions);
                        return [2 /*return*/];
                }
            });
        });
    };
    SwalComponent.decorators = [
        { type: Component, args: [{
                    // tslint:disable-next-line:component-selector
                    selector: 'swal',
                    template: '',
                    changeDetection: ChangeDetectionStrategy.OnPush
                }] }
    ];
    /** @nocollapse */
    SwalComponent.ctorParameters = function () { return [
        { type: SweetAlert2LoaderService },
        { type: Boolean, decorators: [{ type: Inject, args: [dismissOnDestroyToken,] }] }
    ]; };
    SwalComponent.propDecorators = {
        title: [{ type: Input }],
        titleText: [{ type: Input }],
        text: [{ type: Input }],
        html: [{ type: Input }],
        footer: [{ type: Input }],
        type: [{ type: Input }],
        backdrop: [{ type: Input }],
        toast: [{ type: Input }],
        target: [{ type: Input }],
        input: [{ type: Input }],
        width: [{ type: Input }],
        padding: [{ type: Input }],
        background: [{ type: Input }],
        position: [{ type: Input }],
        grow: [{ type: Input }],
        customClass: [{ type: Input }],
        customContainerClass: [{ type: Input }],
        timer: [{ type: Input }],
        animation: [{ type: Input }],
        heightAuto: [{ type: Input }],
        allowOutsideClick: [{ type: Input }],
        allowEscapeKey: [{ type: Input }],
        allowEnterKey: [{ type: Input }],
        stopKeydownPropagation: [{ type: Input }],
        keydownListenerCapture: [{ type: Input }],
        showConfirmButton: [{ type: Input }],
        showCancelButton: [{ type: Input }],
        confirmButtonText: [{ type: Input }],
        cancelButtonText: [{ type: Input }],
        confirmButtonColor: [{ type: Input }],
        cancelButtonColor: [{ type: Input }],
        confirmButtonClass: [{ type: Input }],
        cancelButtonClass: [{ type: Input }],
        confirmButtonAriaLabel: [{ type: Input }],
        cancelButtonAriaLabel: [{ type: Input }],
        buttonsStyling: [{ type: Input }],
        reverseButtons: [{ type: Input }],
        focusConfirm: [{ type: Input }],
        focusCancel: [{ type: Input }],
        showCloseButton: [{ type: Input }],
        closeButtonHtml: [{ type: Input }],
        closeButtonAriaLabel: [{ type: Input }],
        showLoaderOnConfirm: [{ type: Input }],
        preConfirm: [{ type: Input }],
        imageUrl: [{ type: Input }],
        imageWidth: [{ type: Input }],
        imageHeight: [{ type: Input }],
        imageAlt: [{ type: Input }],
        imageClass: [{ type: Input }],
        inputPlaceholder: [{ type: Input }],
        inputValue: [{ type: Input }],
        inputOptions: [{ type: Input }],
        inputAutoTrim: [{ type: Input }],
        inputAttributes: [{ type: Input }],
        inputValidator: [{ type: Input }],
        validationMessage: [{ type: Input }],
        inputClass: [{ type: Input }],
        progressSteps: [{ type: Input }],
        currentProgressStep: [{ type: Input }],
        progressStepsDistance: [{ type: Input }],
        scrollbarPadding: [{ type: Input }],
        swalOptions: [{ type: Input }],
        swalDismissOnDestroy: [{ type: Input }],
        beforeOpen: [{ type: Output }],
        open: [{ type: Output }],
        render: [{ type: Output }],
        close: [{ type: Output }],
        afterClose: [{ type: Output }],
        confirm: [{ type: Output }],
        cancel: [{ type: Output }]
    };
    return SwalComponent;
}());
export { SwalComponent };
if (false) {
    /** @type {?} */
    SwalComponent.prototype.title;
    /** @type {?} */
    SwalComponent.prototype.titleText;
    /** @type {?} */
    SwalComponent.prototype.text;
    /** @type {?} */
    SwalComponent.prototype.html;
    /** @type {?} */
    SwalComponent.prototype.footer;
    /** @type {?} */
    SwalComponent.prototype.type;
    /** @type {?} */
    SwalComponent.prototype.backdrop;
    /** @type {?} */
    SwalComponent.prototype.toast;
    /** @type {?} */
    SwalComponent.prototype.target;
    /** @type {?} */
    SwalComponent.prototype.input;
    /** @type {?} */
    SwalComponent.prototype.width;
    /** @type {?} */
    SwalComponent.prototype.padding;
    /** @type {?} */
    SwalComponent.prototype.background;
    /** @type {?} */
    SwalComponent.prototype.position;
    /** @type {?} */
    SwalComponent.prototype.grow;
    /** @type {?} */
    SwalComponent.prototype.customClass;
    /**
     * @deprecated Use customClass instead
     * @type {?}
     */
    SwalComponent.prototype.customContainerClass;
    /** @type {?} */
    SwalComponent.prototype.timer;
    /** @type {?} */
    SwalComponent.prototype.animation;
    /** @type {?} */
    SwalComponent.prototype.heightAuto;
    /** @type {?} */
    SwalComponent.prototype.allowOutsideClick;
    /** @type {?} */
    SwalComponent.prototype.allowEscapeKey;
    /** @type {?} */
    SwalComponent.prototype.allowEnterKey;
    /** @type {?} */
    SwalComponent.prototype.stopKeydownPropagation;
    /** @type {?} */
    SwalComponent.prototype.keydownListenerCapture;
    /** @type {?} */
    SwalComponent.prototype.showConfirmButton;
    /** @type {?} */
    SwalComponent.prototype.showCancelButton;
    /** @type {?} */
    SwalComponent.prototype.confirmButtonText;
    /** @type {?} */
    SwalComponent.prototype.cancelButtonText;
    /** @type {?} */
    SwalComponent.prototype.confirmButtonColor;
    /** @type {?} */
    SwalComponent.prototype.cancelButtonColor;
    /**
     * @deprecated Use customClass instead
     * @type {?}
     */
    SwalComponent.prototype.confirmButtonClass;
    /**
     * @deprecated Use customClass instead
     * @type {?}
     */
    SwalComponent.prototype.cancelButtonClass;
    /** @type {?} */
    SwalComponent.prototype.confirmButtonAriaLabel;
    /** @type {?} */
    SwalComponent.prototype.cancelButtonAriaLabel;
    /** @type {?} */
    SwalComponent.prototype.buttonsStyling;
    /** @type {?} */
    SwalComponent.prototype.reverseButtons;
    /** @type {?} */
    SwalComponent.prototype.focusConfirm;
    /** @type {?} */
    SwalComponent.prototype.focusCancel;
    /** @type {?} */
    SwalComponent.prototype.showCloseButton;
    /** @type {?} */
    SwalComponent.prototype.closeButtonHtml;
    /** @type {?} */
    SwalComponent.prototype.closeButtonAriaLabel;
    /** @type {?} */
    SwalComponent.prototype.showLoaderOnConfirm;
    /** @type {?} */
    SwalComponent.prototype.preConfirm;
    /** @type {?} */
    SwalComponent.prototype.imageUrl;
    /** @type {?} */
    SwalComponent.prototype.imageWidth;
    /** @type {?} */
    SwalComponent.prototype.imageHeight;
    /** @type {?} */
    SwalComponent.prototype.imageAlt;
    /**
     * @deprecated Use customClass instead
     * @type {?}
     */
    SwalComponent.prototype.imageClass;
    /** @type {?} */
    SwalComponent.prototype.inputPlaceholder;
    /** @type {?} */
    SwalComponent.prototype.inputValue;
    /** @type {?} */
    SwalComponent.prototype.inputOptions;
    /** @type {?} */
    SwalComponent.prototype.inputAutoTrim;
    /** @type {?} */
    SwalComponent.prototype.inputAttributes;
    /** @type {?} */
    SwalComponent.prototype.inputValidator;
    /** @type {?} */
    SwalComponent.prototype.validationMessage;
    /**
     * @deprecated Use customClass instead
     * @type {?}
     */
    SwalComponent.prototype.inputClass;
    /** @type {?} */
    SwalComponent.prototype.progressSteps;
    /** @type {?} */
    SwalComponent.prototype.currentProgressStep;
    /** @type {?} */
    SwalComponent.prototype.progressStepsDistance;
    /** @type {?} */
    SwalComponent.prototype.scrollbarPadding;
    /**
     * Whether to dismiss the modal when the <swal> component is destroyed by Angular (for any reason) or not.
     * When left undefined (default), the value will be inherited from the module configuration.
     * @type {?}
     */
    SwalComponent.prototype.swalDismissOnDestroy;
    /**
     * Emits an event when the modal DOM element has been created.
     * Useful to perform DOM mutations before the modal is shown.
     * @type {?}
     */
    SwalComponent.prototype.beforeOpen;
    /**
     * Emits an event when the modal is shown.
     * @type {?}
     */
    SwalComponent.prototype.open;
    /**
     * Emits an event when the modal DOM is rendered.
     * @type {?}
     */
    SwalComponent.prototype.render;
    /**
     * Emits an event when the modal will be closed.
     * If you just want to know when the user dismissed the modal, prefer the higher-level (cancel) output.
     * @type {?}
     */
    SwalComponent.prototype.close;
    /**
     * Emits an event after the modal had been closed.
     * If you just want to know when the user dismissed the modal, prefer the higher-level (cancel) output.
     * @type {?}
     */
    SwalComponent.prototype.afterClose;
    /**
     * Emits when the user clicks "Confirm".
     * Bears a value when using "input", resolved "preConfirm", etc.
     *
     * Example:
     *     <swal (confirm)="handleConfirm($event)"></swal>
     *
     *     public handleConfirm(email: string): void {
     *         // ... save user email
     *     }
     * @type {?}
     */
    SwalComponent.prototype.confirm;
    /**
     * Emits when the user clicks "Cancel", or dismisses the modal by any other allowed way.
     * By default, it will emit a string representing the reason for which the SweetAlert has been closed.
     * The reason is `undefined` when {\@link dismiss} is called.
     *
     * Example:
     *     <swal (cancel)="handleCancel($event)"></swal>
     *
     *     public handleCancel(reason: DismissReason | undefined): void {
     *         // reason can be 'cancel', 'overlay', 'close', 'timer' or undefined.
     *         // ... do something
     *     }
     * @type {?}
     */
    SwalComponent.prototype.cancel;
    /**
     * This Set retains the properties that have been changed from \@Inputs, so we can know precisely
     * what options we have to send to {\@link Swal.fire}.
     * @type {?}
     * @private
     */
    SwalComponent.prototype.touchedProps;
    /**
     * A function of signature `(propName: string): void` that adds a given property name to the list of
     * touched properties, ie. {\@link touchedProps}.
     * @type {?}
     * @private
     */
    SwalComponent.prototype.markTouched;
    /**
     * Is the SweetAlert2 modal represented by this component currently opened?
     * @type {?}
     * @private
     */
    SwalComponent.prototype.isCurrentlyShown;
    /**
     * @type {?}
     * @private
     */
    SwalComponent.prototype.sweetAlert2Loader;
    /**
     * @type {?}
     * @private
     */
    SwalComponent.prototype.moduleLevelDismissOnDestroy;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dhbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3dlZXRhbGVydDIvbmd4LXN3ZWV0YWxlcnQyLyIsInNvdXJjZXMiOlsibGliL3N3YWwuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUNILHVCQUF1QixFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBZ0MsTUFBTSxFQUN4RyxNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFN0MsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sOEJBQThCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCeEU7SUFpTUksdUJBQ3FCLGlCQUEyQyxFQUNaLDJCQUFvQztRQURuRSxzQkFBaUIsR0FBakIsaUJBQWlCLENBQTBCO1FBQ1osZ0NBQTJCLEdBQTNCLDJCQUEyQixDQUFTOzs7OztRQXZFOUQsZUFBVSxHQUFHLElBQUksWUFBWSxFQUEwQixDQUFDOzs7O1FBS3hELFNBQUksR0FBRyxJQUFJLFlBQVksRUFBb0IsQ0FBQzs7OztRQUs1QyxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQXNCLENBQUM7Ozs7O1FBTWhELFVBQUssR0FBRyxJQUFJLFlBQVksRUFBcUIsQ0FBQzs7Ozs7UUFNOUMsZUFBVSxHQUFHLElBQUksWUFBWSxFQUFRLENBQUM7Ozs7Ozs7Ozs7OztRQWF0QyxZQUFPLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7UUFlbEMsV0FBTSxHQUFHLElBQUksWUFBWSxFQUFrQyxDQUFDOzs7OztRQU1yRSxpQkFBWSxHQUFHLElBQUksR0FBRyxFQUEyQixDQUFDOzs7OztRQU1sRCxnQkFBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7Ozs7UUFLckUscUJBQWdC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Ozs7SUFFNUUsMENBQTBFOztJQUMxRSwrQ0FBb0Y7O0lBQ3BGLDhDQUFrRjs7SUFDbEYsdUNBQW9FOztJQUNwRSx1Q0FBb0U7O0lBQ3BFLHFDQUFnRTs7SUFDaEUsb0NBQThEOztJQUM5RCx3Q0FBc0U7O0lBQ3RFLHdDQUFzRTs7SUFDdEUsNkNBQWdGOztJQUNoRiw0Q0FBOEU7O0lBQzlFLG1DQUE0RDs7SUFDNUQsaUNBQXdEOztJQUN4RCxtQ0FBNEQ7O0lBQzVELG9DQUE4RDs7SUFDOUQsaUNBQXdEOzs7OztJQUV4RCxtQ0FBNEQ7O0lBQzVELHlDQUF3RTs7SUFDeEUsbUNBQTREOztJQUM1RCxxQ0FBZ0U7O0lBQ2hFLHNDQUFrRTs7SUFDbEUsd0NBQXNFOztJQUN0RSx1Q0FBb0U7O0lBQ3BFLDBDQUEwRTs7Ozs7SUFFMUUsbUNBQTREOztJQUM1RCxzQ0FBa0U7O0lBQ2xFLDRDQUE4RTs7SUFDOUUsOENBQWtGOztJQUNsRix5Q0FBd0U7Ozs7OztJQTZDeEUsNkNBQ3NDOzs7Ozs7SUFNdEMsbUNBQWtGOzs7OztJQUtsRiw2QkFBc0U7Ozs7O0lBS3RFLCtCQUEwRTs7Ozs7O0lBTTFFLDhCQUF3RTs7Ozs7O0lBTXhFLG1DQUFnRTs7Ozs7Ozs7Ozs7OztJQWFoRSxnQ0FBNEQ7Ozs7Ozs7Ozs7Ozs7OztJQWU1RCwrQkFBc0Y7Ozs7Ozs7SUFNdEYscUNBQW1FOzs7Ozs7O0lBTW5FLG9DQUE2RTs7Ozs7O0lBSzdFLHlDQUFpQzs7Ozs7SUFHN0IsMENBQTREOzs7OztJQUM1RCxvREFBb0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5qZWN0LCBJbnB1dCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0LCBTaW1wbGVDaGFuZ2VzXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IFN3YWwsIHsgU3dlZXRBbGVydE9wdGlvbnMsIFN3ZWV0QWxlcnRSZXN1bHQgfSBmcm9tICdzd2VldGFsZXJ0Mic7XG5pbXBvcnQgeyBkaXNtaXNzT25EZXN0cm95VG9rZW4gfSBmcm9tICcuL2RpJztcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICcuL3N3YWwtZXZlbnRzJztcbmltcG9ydCB7IFN3ZWV0QWxlcnQyTG9hZGVyU2VydmljZSB9IGZyb20gJy4vc3dlZXRhbGVydDItbG9hZGVyLnNlcnZpY2UnO1xuXG4vKipcbiAqIDxzd2FsPiBjb21wb25lbnQuIFNlZSB0aGUgUkVBRE1FLm1kIGZvciB1c2FnZS5cbiAqXG4gKiBJdCBjb250YWlucyBhIGJ1bmNoIG9mIEBJbnB1dHMgdGhhdCBoYXZlIGEgcGVyZmVjdCAxOjEgbWFwcGluZyB3aXRoIFN3ZWV0QWxlcnQyIG9wdGlvbnMuXG4gKiBUaGVpciB0eXBlcyBhcmUgZGlyZWN0bHkgY29taW5nIGZyb20gU3dlZXRBbGVydDIgdHlwZXMgZGVmaW50aXRpb25zLCBtZWFuaW5nIHRoYXQgbmd4LXN3ZWV0YWxlcnQyIGlzIHRpZ2h0bHkgY291cGxlZFxuICogdG8gU3dlZXRBbGVydDIsIGJ1dCBhbHNvIGlzIHR5cGUtc2FmZS5cbiAqXG4gKiAoPykgSWYgeW91IHdhbnQgdG8gdXNlIGFuIG9iamVjdCB0aGF0IGRlY2xhcmVzIHRoZSBTd2VldEFsZXJ0MiBvcHRpb25zIGFsbCBhdCBvbmNlIHJhdGhlciB0aGFuIG1hbnkgQElucHV0cyxcbiAqICAgICB0YWtlIGEgbG9vayBhdCBbc3dhbE9wdGlvbnNdLCB0aGF0IGxldHMgeW91IHBhc3MgYSBmdWxsIHtAbGluayBTd2VldEFsZXJ0T3B0aW9uc30gb2JqZWN0LlxuICpcbiAqICg/KSBJZiB5b3UgYXJlIHJlYWRpbmcgdGhlIFR5cGVTY3JpcHQgc291cmNlIG9mIHRoaXMgY29tcG9uZW50LCB5b3UgbWF5IHRoaW5rIHRoYXQgaXQncyBhIGxvdCBvZiBjb2RlLlxuICogICAgIEJlIHN1cmUgdGhhdCBhIGxvdCBvZiB0aGlzIGNvZGUgaXMgdHlwZXMgYW5kIEFuZ3VsYXIgYm9pbGVycGxhdGUuIENvbXBpbGVkIGFuZCBtaW5pZmllZCBjb2RlIGlzIG11Y2ggc21hbGxlci5cbiAqICAgICBJZiB5b3UgYXJlIHJlYWxseSBjb25jZXJuZWQgYWJvdXQgcGVyZm9ybWFuY2UgYW5kL29yIGRvbid0IGNhcmUgYWJvdXQgdGhlIEFQSSBhbmQgaXRzIGNvbnZlbmllbnQgaW50ZWdyYXRpb25cbiAqICAgICB3aXRoIEFuZ3VsYXIgKG5vdGFibHkgY2hhbmdlIGRldGVjdGlvbiBhbmQgdHJhbnNjbHVzaW9uKSwgeW91IG1heSB0b3RhbGx5IHVzZSBTd2VldEFsZXJ0MiBuYXRpdmVseSBhcyB3ZWxsIDspXG4gKlxuICogLyFcXCBTb21lIFN3ZWV0QWxlcnQgb3B0aW9ucyBhcmVuJ3QgQElucHV0cyBidXQgQE91dHB1dHM6IG9uQmVmb3JlT3Blbiwgb25PcGVuLCBvbkNsb3NlIGFuZCBvbkFmdGVyQ2xvc2VcbiAqICAgICAoYnV0IHdpdGhvdXQgXCJvbipcIiBwcmVmaXggdG8gcmVzcGVjdCBjb21tdW5pdHkgc3RhbmRhcmRzKS5cbiAqICAgICBIb3dldmVyLCBwcmVDb25maXJtIGFuZCBpbnB1dFZhbGlkYXRvciBhcmUgc3RpbGwgQElucHV0cyBiZWNhdXNlIHRoZXJlIGFyZSBub3QgZXZlbnQgaGFuZGxlcnMsIHRoZXJlIGNhbid0IGJlXG4gKiAgICAgbXVsdGlwbGUgbGlzdGVuZXJzIGFuZCB3ZSBuZWVkIHRoZSB2YWx1ZXMgdGhleSBjYW4vbXVzdCByZXR1cm4uXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpjb21wb25lbnQtc2VsZWN0b3JcbiAgICBzZWxlY3RvcjogJ3N3YWwnLFxuICAgIHRlbXBsYXRlOiAnJyxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBTd2FsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgcHVibGljIHRpdGxlOiBTd2VldEFsZXJ0T3B0aW9uc1sndGl0bGUnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgdGl0bGVUZXh0OiBTd2VldEFsZXJ0T3B0aW9uc1sndGl0bGVUZXh0J107XG4gICAgQElucHV0KCkgcHVibGljIHRleHQ6IFN3ZWV0QWxlcnRPcHRpb25zWyd0ZXh0J107XG4gICAgQElucHV0KCkgcHVibGljIGh0bWw6IFN3ZWV0QWxlcnRPcHRpb25zWydodG1sJ107XG4gICAgQElucHV0KCkgcHVibGljIGZvb3RlcjogU3dlZXRBbGVydE9wdGlvbnNbJ2Zvb3RlciddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyB0eXBlOiBTd2VldEFsZXJ0T3B0aW9uc1sndHlwZSddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBiYWNrZHJvcDogU3dlZXRBbGVydE9wdGlvbnNbJ2JhY2tkcm9wJ107XG4gICAgQElucHV0KCkgcHVibGljIHRvYXN0OiBTd2VldEFsZXJ0T3B0aW9uc1sndG9hc3QnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgdGFyZ2V0OiBTd2VldEFsZXJ0T3B0aW9uc1sndGFyZ2V0J107XG4gICAgQElucHV0KCkgcHVibGljIGlucHV0OiBTd2VldEFsZXJ0T3B0aW9uc1snaW5wdXQnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgd2lkdGg6IFN3ZWV0QWxlcnRPcHRpb25zWyd3aWR0aCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBwYWRkaW5nOiBTd2VldEFsZXJ0T3B0aW9uc1sncGFkZGluZyddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBiYWNrZ3JvdW5kOiBTd2VldEFsZXJ0T3B0aW9uc1snYmFja2dyb3VuZCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBwb3NpdGlvbjogU3dlZXRBbGVydE9wdGlvbnNbJ3Bvc2l0aW9uJ107XG4gICAgQElucHV0KCkgcHVibGljIGdyb3c6IFN3ZWV0QWxlcnRPcHRpb25zWydncm93J107XG4gICAgQElucHV0KCkgcHVibGljIGN1c3RvbUNsYXNzOiBTd2VldEFsZXJ0T3B0aW9uc1snY3VzdG9tQ2xhc3MnXTtcbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIGN1c3RvbUNsYXNzIGluc3RlYWQgKi9cbiAgICBASW5wdXQoKSBwdWJsaWMgY3VzdG9tQ29udGFpbmVyQ2xhc3M6IFN3ZWV0QWxlcnRPcHRpb25zWydjdXN0b21Db250YWluZXJDbGFzcyddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyB0aW1lcjogU3dlZXRBbGVydE9wdGlvbnNbJ3RpbWVyJ107XG4gICAgQElucHV0KCkgcHVibGljIGFuaW1hdGlvbjogU3dlZXRBbGVydE9wdGlvbnNbJ2FuaW1hdGlvbiddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBoZWlnaHRBdXRvOiBTd2VldEFsZXJ0T3B0aW9uc1snaGVpZ2h0QXV0byddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBhbGxvd091dHNpZGVDbGljazogU3dlZXRBbGVydE9wdGlvbnNbJ2FsbG93T3V0c2lkZUNsaWNrJ107XG4gICAgQElucHV0KCkgcHVibGljIGFsbG93RXNjYXBlS2V5OiBTd2VldEFsZXJ0T3B0aW9uc1snYWxsb3dFc2NhcGVLZXknXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgYWxsb3dFbnRlcktleTogU3dlZXRBbGVydE9wdGlvbnNbJ2FsbG93RW50ZXJLZXknXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgc3RvcEtleWRvd25Qcm9wYWdhdGlvbjogU3dlZXRBbGVydE9wdGlvbnNbJ3N0b3BLZXlkb3duUHJvcGFnYXRpb24nXTtcbiAgICBASW5wdXQoKSBwdWJsaWMga2V5ZG93bkxpc3RlbmVyQ2FwdHVyZTogU3dlZXRBbGVydE9wdGlvbnNbJ2tleWRvd25MaXN0ZW5lckNhcHR1cmUnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgc2hvd0NvbmZpcm1CdXR0b246IFN3ZWV0QWxlcnRPcHRpb25zWydzaG93Q29uZmlybUJ1dHRvbiddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBzaG93Q2FuY2VsQnV0dG9uOiBTd2VldEFsZXJ0T3B0aW9uc1snc2hvd0NhbmNlbEJ1dHRvbiddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBjb25maXJtQnV0dG9uVGV4dDogU3dlZXRBbGVydE9wdGlvbnNbJ2NvbmZpcm1CdXR0b25UZXh0J107XG4gICAgQElucHV0KCkgcHVibGljIGNhbmNlbEJ1dHRvblRleHQ6IFN3ZWV0QWxlcnRPcHRpb25zWydjYW5jZWxCdXR0b25UZXh0J107XG4gICAgQElucHV0KCkgcHVibGljIGNvbmZpcm1CdXR0b25Db2xvcjogU3dlZXRBbGVydE9wdGlvbnNbJ2NvbmZpcm1CdXR0b25Db2xvciddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBjYW5jZWxCdXR0b25Db2xvcjogU3dlZXRBbGVydE9wdGlvbnNbJ2NhbmNlbEJ1dHRvbkNvbG9yJ107XG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSBjdXN0b21DbGFzcyBpbnN0ZWFkICovXG4gICAgQElucHV0KCkgcHVibGljIGNvbmZpcm1CdXR0b25DbGFzczogU3dlZXRBbGVydE9wdGlvbnNbJ2NvbmZpcm1CdXR0b25DbGFzcyddO1xuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2UgY3VzdG9tQ2xhc3MgaW5zdGVhZCAqL1xuICAgIEBJbnB1dCgpIHB1YmxpYyBjYW5jZWxCdXR0b25DbGFzczogU3dlZXRBbGVydE9wdGlvbnNbJ2NhbmNlbEJ1dHRvbkNsYXNzJ107XG4gICAgQElucHV0KCkgcHVibGljIGNvbmZpcm1CdXR0b25BcmlhTGFiZWw6IFN3ZWV0QWxlcnRPcHRpb25zWydjb25maXJtQnV0dG9uQXJpYUxhYmVsJ107XG4gICAgQElucHV0KCkgcHVibGljIGNhbmNlbEJ1dHRvbkFyaWFMYWJlbDogU3dlZXRBbGVydE9wdGlvbnNbJ2NhbmNlbEJ1dHRvbkFyaWFMYWJlbCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBidXR0b25zU3R5bGluZzogU3dlZXRBbGVydE9wdGlvbnNbJ2J1dHRvbnNTdHlsaW5nJ107XG4gICAgQElucHV0KCkgcHVibGljIHJldmVyc2VCdXR0b25zOiBTd2VldEFsZXJ0T3B0aW9uc1sncmV2ZXJzZUJ1dHRvbnMnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgZm9jdXNDb25maXJtOiBTd2VldEFsZXJ0T3B0aW9uc1snZm9jdXNDb25maXJtJ107XG4gICAgQElucHV0KCkgcHVibGljIGZvY3VzQ2FuY2VsOiBTd2VldEFsZXJ0T3B0aW9uc1snZm9jdXNDYW5jZWwnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgc2hvd0Nsb3NlQnV0dG9uOiBTd2VldEFsZXJ0T3B0aW9uc1snc2hvd0Nsb3NlQnV0dG9uJ107XG4gICAgQElucHV0KCkgcHVibGljIGNsb3NlQnV0dG9uSHRtbDogU3dlZXRBbGVydE9wdGlvbnNbJ2Nsb3NlQnV0dG9uSHRtbCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBjbG9zZUJ1dHRvbkFyaWFMYWJlbDogU3dlZXRBbGVydE9wdGlvbnNbJ2Nsb3NlQnV0dG9uQXJpYUxhYmVsJ107XG4gICAgQElucHV0KCkgcHVibGljIHNob3dMb2FkZXJPbkNvbmZpcm06IFN3ZWV0QWxlcnRPcHRpb25zWydzaG93TG9hZGVyT25Db25maXJtJ107XG4gICAgQElucHV0KCkgcHVibGljIHByZUNvbmZpcm06IFN3ZWV0QWxlcnRPcHRpb25zWydwcmVDb25maXJtJ107XG4gICAgQElucHV0KCkgcHVibGljIGltYWdlVXJsOiBTd2VldEFsZXJ0T3B0aW9uc1snaW1hZ2VVcmwnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgaW1hZ2VXaWR0aDogU3dlZXRBbGVydE9wdGlvbnNbJ2ltYWdlV2lkdGgnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgaW1hZ2VIZWlnaHQ6IFN3ZWV0QWxlcnRPcHRpb25zWydpbWFnZUhlaWdodCddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBpbWFnZUFsdDogU3dlZXRBbGVydE9wdGlvbnNbJ2ltYWdlQWx0J107XG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSBjdXN0b21DbGFzcyBpbnN0ZWFkICovXG4gICAgQElucHV0KCkgcHVibGljIGltYWdlQ2xhc3M6IFN3ZWV0QWxlcnRPcHRpb25zWydpbWFnZUNsYXNzJ107XG4gICAgQElucHV0KCkgcHVibGljIGlucHV0UGxhY2Vob2xkZXI6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dFBsYWNlaG9sZGVyJ107XG4gICAgQElucHV0KCkgcHVibGljIGlucHV0VmFsdWU6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dFZhbHVlJ107XG4gICAgQElucHV0KCkgcHVibGljIGlucHV0T3B0aW9uczogU3dlZXRBbGVydE9wdGlvbnNbJ2lucHV0T3B0aW9ucyddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBpbnB1dEF1dG9UcmltOiBTd2VldEFsZXJ0T3B0aW9uc1snaW5wdXRBdXRvVHJpbSddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBpbnB1dEF0dHJpYnV0ZXM6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dEF0dHJpYnV0ZXMnXTtcbiAgICBASW5wdXQoKSBwdWJsaWMgaW5wdXRWYWxpZGF0b3I6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dFZhbGlkYXRvciddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyB2YWxpZGF0aW9uTWVzc2FnZTogU3dlZXRBbGVydE9wdGlvbnNbJ3ZhbGlkYXRpb25NZXNzYWdlJ107XG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSBjdXN0b21DbGFzcyBpbnN0ZWFkICovXG4gICAgQElucHV0KCkgcHVibGljIGlucHV0Q2xhc3M6IFN3ZWV0QWxlcnRPcHRpb25zWydpbnB1dENsYXNzJ107XG4gICAgQElucHV0KCkgcHVibGljIHByb2dyZXNzU3RlcHM6IFN3ZWV0QWxlcnRPcHRpb25zWydwcm9ncmVzc1N0ZXBzJ107XG4gICAgQElucHV0KCkgcHVibGljIGN1cnJlbnRQcm9ncmVzc1N0ZXA6IFN3ZWV0QWxlcnRPcHRpb25zWydjdXJyZW50UHJvZ3Jlc3NTdGVwJ107XG4gICAgQElucHV0KCkgcHVibGljIHByb2dyZXNzU3RlcHNEaXN0YW5jZTogU3dlZXRBbGVydE9wdGlvbnNbJ3Byb2dyZXNzU3RlcHNEaXN0YW5jZSddO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBzY3JvbGxiYXJQYWRkaW5nOiBTd2VldEFsZXJ0T3B0aW9uc1snc2Nyb2xsYmFyUGFkZGluZyddO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IG9mIFN3ZWV0QWxlcnQyIG5hdGl2ZSBvcHRpb25zLCB1c2VmdWwgaWY6XG4gICAgICogIC0geW91IGRvbid0IHdhbnQgdG8gdXNlIHRoZSBASW5wdXRzIGZvciBwcmFjdGljYWwvcGhpbG9zb3BoaWNhbCByZWFzb25zIDtcbiAgICAgKiAgLSB0aGVyZSBhcmUgbWlzc2luZyBASW5wdXRzIGJlY2F1c2Ugbmd4LXN3ZWV0YWxlcnQyIGlzbid0IHVwLXRvLWRhdGUgd2l0aCBTd2VldEFsZXJ0MidzIGxhdGVzdCBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogLyFcXCBQbGVhc2Ugbm90ZSB0aGF0IHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBkb2VzIE5PVCBlcmFzZSB3aGF0IGhhcyBiZWVuIHNldCBiZWZvcmUgdW5sZXNzIHlvdSBzcGVjaWZ5IHRoZVxuICAgICAqICAgICBwcmV2aW91cyBwcm9wZXJ0aWVzIHlvdSB3YW50IHRvIGVyYXNlIGFnYWluLlxuICAgICAqICAgICBJZS4gc2V0dGluZyB7IHRpdGxlOiAnVGl0bGUnIH0gYW5kIHRoZW4geyB0ZXh0OiAnVGV4dCcgfSB3aWxsIGdpdmUgeyB0aXRsZTogJ1RpdGxlJywgdGV4dDogJ1RleHQnIH0uXG4gICAgICpcbiAgICAgKiAvIVxcIEJlIGF3YXJlIHRoYXQgdGhlIG9wdGlvbnMgZGVmaW5lZCBpbiB0aGlzIG9iamVjdCB3aWxsIG92ZXJyaWRlIHRoZSBASW5wdXRzIG9mIHRoZSBzYW1lIG5hbWUuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgc2V0IHN3YWxPcHRpb25zKG9wdGlvbnM6IFN3ZWV0QWxlcnRPcHRpb25zKSB7XG4gICAgICAgIC8vPT4gVXBkYXRlIHByb3BlcnRpZXNcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLz0+IE1hcmsgY2hhbmdlZCBwcm9wZXJ0aWVzIGFzIHRvdWNoZWRcbiAgICAgICAgY29uc3QgdG91Y2hlZEtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKSBhcyBBcnJheTxrZXlvZiBTd2VldEFsZXJ0T3B0aW9ucz47XG4gICAgICAgIHRvdWNoZWRLZXlzLmZvckVhY2godGhpcy5tYXJrVG91Y2hlZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG9wdGlvbnMgb2JqZWN0IHRoYXQgd2lsbCBnZXQgcGFzc2VkIHRvIFN3ZWV0QWxlcnQyLlxuICAgICAqIE9ubHkgdGhlIHByb3BlcnRpZXMgdGhhdCBoYXZlIGJlZW4gc2V0IGF0IGxlYXN0IG9uY2Ugb24gdGhpcyBjb21wb25lbnQgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKiBNb3N0bHkgZm9yIGludGVybmFsIHVzYWdlLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc3dhbE9wdGlvbnMoKTogU3dlZXRBbGVydE9wdGlvbnMge1xuICAgICAgICBjb25zdCBvcHRpb25zOiB7IFtQIGluIGtleW9mIFN3ZWV0QWxlcnRPcHRpb25zXTogYW55IH0gPSB7fTtcblxuICAgICAgICAvLz0+IFdlIHdpbGwgY29tcHV0ZSB0aGUgb3B0aW9ucyBvYmplY3QgYmFzZWQgb24gdGhlIG9wdGlvbiBrZXlzIHRoYXQgYXJlIGtub3duIHRvIGhhdmUgY2hhbmdlZC5cbiAgICAgICAgLy8gICBUaGF0IGF2b2lkcyBwYXNzaW5nIGEgZ2lnYW50aWMgb2JqZWN0IHRvIFN3ZWV0QWxlcnQyLCBtYWtpbmcgZGVidWdnaW5nIGVhc2llciBhbmQgcG90ZW50aWFsbHlcbiAgICAgICAgLy8gICBhdm9pZGluZyBzaWRlIGVmZmVjdHMuXG4gICAgICAgIHRoaXMudG91Y2hlZFByb3BzLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgICAgICBvcHRpb25zW3Byb3BdID0gdGhpc1twcm9wIGFzIGtleW9mIHRoaXNdO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGRpc21pc3MgdGhlIG1vZGFsIHdoZW4gdGhlIDxzd2FsPiBjb21wb25lbnQgaXMgZGVzdHJveWVkIGJ5IEFuZ3VsYXIgKGZvciBhbnkgcmVhc29uKSBvciBub3QuXG4gICAgICogV2hlbiBsZWZ0IHVuZGVmaW5lZCAoZGVmYXVsdCksIHRoZSB2YWx1ZSB3aWxsIGJlIGluaGVyaXRlZCBmcm9tIHRoZSBtb2R1bGUgY29uZmlndXJhdGlvbi5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyBzd2FsRGlzbWlzc09uRGVzdHJveT86IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBtb2RhbCBET00gZWxlbWVudCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgICAqIFVzZWZ1bCB0byBwZXJmb3JtIERPTSBtdXRhdGlvbnMgYmVmb3JlIHRoZSBtb2RhbCBpcyBzaG93bi5cbiAgICAgKi9cbiAgICBAT3V0cHV0KCkgcHVibGljIHJlYWRvbmx5IGJlZm9yZU9wZW4gPSBuZXcgRXZlbnRFbWl0dGVyPGV2ZW50cy5CZWZvcmVPcGVuRXZlbnQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBtb2RhbCBpcyBzaG93bi5cbiAgICAgKi9cbiAgICBAT3V0cHV0KCkgcHVibGljIHJlYWRvbmx5IG9wZW4gPSBuZXcgRXZlbnRFbWl0dGVyPGV2ZW50cy5PcGVuRXZlbnQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBtb2RhbCBET00gaXMgcmVuZGVyZWQuXG4gICAgICovXG4gICAgQE91dHB1dCgpIHB1YmxpYyByZWFkb25seSByZW5kZXIgPSBuZXcgRXZlbnRFbWl0dGVyPGV2ZW50cy5SZW5kZXJFdmVudD4oKTtcblxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhlIG1vZGFsIHdpbGwgYmUgY2xvc2VkLlxuICAgICAqIElmIHlvdSBqdXN0IHdhbnQgdG8ga25vdyB3aGVuIHRoZSB1c2VyIGRpc21pc3NlZCB0aGUgbW9kYWwsIHByZWZlciB0aGUgaGlnaGVyLWxldmVsIChjYW5jZWwpIG91dHB1dC5cbiAgICAgKi9cbiAgICBAT3V0cHV0KCkgcHVibGljIHJlYWRvbmx5IGNsb3NlID0gbmV3IEV2ZW50RW1pdHRlcjxldmVudHMuQ2xvc2VFdmVudD4oKTtcblxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IGFmdGVyIHRoZSBtb2RhbCBoYWQgYmVlbiBjbG9zZWQuXG4gICAgICogSWYgeW91IGp1c3Qgd2FudCB0byBrbm93IHdoZW4gdGhlIHVzZXIgZGlzbWlzc2VkIHRoZSBtb2RhbCwgcHJlZmVyIHRoZSBoaWdoZXItbGV2ZWwgKGNhbmNlbCkgb3V0cHV0LlxuICAgICAqL1xuICAgIEBPdXRwdXQoKSBwdWJsaWMgcmVhZG9ubHkgYWZ0ZXJDbG9zZSA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICAgIC8qKlxuICAgICAqIEVtaXRzIHdoZW4gdGhlIHVzZXIgY2xpY2tzIFwiQ29uZmlybVwiLlxuICAgICAqIEJlYXJzIGEgdmFsdWUgd2hlbiB1c2luZyBcImlucHV0XCIsIHJlc29sdmVkIFwicHJlQ29uZmlybVwiLCBldGMuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqICAgICA8c3dhbCAoY29uZmlybSk9XCJoYW5kbGVDb25maXJtKCRldmVudClcIj48L3N3YWw+XG4gICAgICpcbiAgICAgKiAgICAgcHVibGljIGhhbmRsZUNvbmZpcm0oZW1haWw6IHN0cmluZyk6IHZvaWQge1xuICAgICAqICAgICAgICAgLy8gLi4uIHNhdmUgdXNlciBlbWFpbFxuICAgICAqICAgICB9XG4gICAgICovXG4gICAgQE91dHB1dCgpIHB1YmxpYyByZWFkb25seSBjb25maXJtID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyB3aGVuIHRoZSB1c2VyIGNsaWNrcyBcIkNhbmNlbFwiLCBvciBkaXNtaXNzZXMgdGhlIG1vZGFsIGJ5IGFueSBvdGhlciBhbGxvd2VkIHdheS5cbiAgICAgKiBCeSBkZWZhdWx0LCBpdCB3aWxsIGVtaXQgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByZWFzb24gZm9yIHdoaWNoIHRoZSBTd2VldEFsZXJ0IGhhcyBiZWVuIGNsb3NlZC5cbiAgICAgKiBUaGUgcmVhc29uIGlzIGB1bmRlZmluZWRgIHdoZW4ge0BsaW5rIGRpc21pc3N9IGlzIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogICAgIDxzd2FsIChjYW5jZWwpPVwiaGFuZGxlQ2FuY2VsKCRldmVudClcIj48L3N3YWw+XG4gICAgICpcbiAgICAgKiAgICAgcHVibGljIGhhbmRsZUNhbmNlbChyZWFzb246IERpc21pc3NSZWFzb24gfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICAgKiAgICAgICAgIC8vIHJlYXNvbiBjYW4gYmUgJ2NhbmNlbCcsICdvdmVybGF5JywgJ2Nsb3NlJywgJ3RpbWVyJyBvciB1bmRlZmluZWQuXG4gICAgICogICAgICAgICAvLyAuLi4gZG8gc29tZXRoaW5nXG4gICAgICogICAgIH1cbiAgICAgKi9cbiAgICBAT3V0cHV0KCkgcHVibGljIHJlYWRvbmx5IGNhbmNlbCA9IG5ldyBFdmVudEVtaXR0ZXI8U3dhbC5EaXNtaXNzUmVhc29uIHwgdW5kZWZpbmVkPigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBTZXQgcmV0YWlucyB0aGUgcHJvcGVydGllcyB0aGF0IGhhdmUgYmVlbiBjaGFuZ2VkIGZyb20gQElucHV0cywgc28gd2UgY2FuIGtub3cgcHJlY2lzZWx5XG4gICAgICogd2hhdCBvcHRpb25zIHdlIGhhdmUgdG8gc2VuZCB0byB7QGxpbmsgU3dhbC5maXJlfS5cbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IHRvdWNoZWRQcm9wcyA9IG5ldyBTZXQ8a2V5b2YgU3dlZXRBbGVydE9wdGlvbnM+KCk7XG5cbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIG9mIHNpZ25hdHVyZSBgKHByb3BOYW1lOiBzdHJpbmcpOiB2b2lkYCB0aGF0IGFkZHMgYSBnaXZlbiBwcm9wZXJ0eSBuYW1lIHRvIHRoZSBsaXN0IG9mXG4gICAgICogdG91Y2hlZCBwcm9wZXJ0aWVzLCBpZS4ge0BsaW5rIHRvdWNoZWRQcm9wc30uXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXJrVG91Y2hlZCA9IHRoaXMudG91Y2hlZFByb3BzLmFkZC5iaW5kKHRoaXMudG91Y2hlZFByb3BzKTtcblxuICAgIC8qKlxuICAgICAqIElzIHRoZSBTd2VldEFsZXJ0MiBtb2RhbCByZXByZXNlbnRlZCBieSB0aGlzIGNvbXBvbmVudCBjdXJyZW50bHkgb3BlbmVkP1xuICAgICAqL1xuICAgIHByaXZhdGUgaXNDdXJyZW50bHlTaG93biA9IGZhbHNlO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHN3ZWV0QWxlcnQyTG9hZGVyOiBTd2VldEFsZXJ0MkxvYWRlclNlcnZpY2UsXG4gICAgICAgIEBJbmplY3QoZGlzbWlzc09uRGVzdHJveVRva2VuKSBwcml2YXRlIHJlYWRvbmx5IG1vZHVsZUxldmVsRGlzbWlzc09uRGVzdHJveTogYm9vbGVhbikge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuZ3VsYXIgbGlmZWN5Y2xlIGhvb2suXG4gICAgICogQXNrcyB0aGUgU3dlZXRBbGVydDIgbG9hZGVyIHNlcnZpY2UgdG8gcHJlbG9hZCB0aGUgU3dlZXRBbGVydDIgbGlicmFyeSwgc28gaXQgYmVnaW5zIHRvIGJlIGxvYWRlZCBvbmx5IGlmIHRoZXJlXG4gICAgICogaXMgYSA8c3dhbD4gY29tcG9uZW50IHNvbWV3aGVyZSwgYW5kIGlzIHByb2JhYmx5IGZ1bGx5IGxvYWRlZCB3aGVuIHRoZSBtb2RhbCBoYXMgdG8gYmUgZGlzcGxheWVkLFxuICAgICAqIGNhdXNpbmcgbm8gZGVsYXkuXG4gICAgICovXG4gICAgcHVibGljIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICAvLz0+IFByZWxvYWQgU3dlZXRBbGVydDIgbGlicmFyeSBpbiBjYXNlIHRoaXMgY29tcG9uZW50IGlzIGFjdGl2YXRlZC5cbiAgICAgICAgdGhpcy5zd2VldEFsZXJ0MkxvYWRlci5wcmVsb2FkU3dlZXRBbGVydExpYnJhcnkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmd1bGFyIGxpZmVjeWNsZSBob29rLlxuICAgICAqIFVwZGF0ZXMgdGhlIFN3ZWV0QWxlcnQgb3B0aW9ucywgYW5kIGlmIHRoZSBtb2RhbCBpcyBvcGVuZWQsIGFza3MgU3dlZXRBbGVydCB0byByZW5kZXIgaXQgYWdhaW4uXG4gICAgICovXG4gICAgcHVibGljIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICAgICAgLy89PiBGb3IgZWFjaCBjaGFuZ2VkIEBJbnB1dCB0aGF0IG1hdGNoZXMgYSBTd2VldEFsZXJ0MiBvcHRpb24sIG1hcmsgYXMgdG91Y2hlZCBzbyB3ZSBjYW5cbiAgICAgICAgLy8gICBzZW5kIGl0IHdpdGggdGhlIG5leHQgZmlyZSgpIG9yIHVwZGF0ZSgpIGNhbGxzLlxuICAgICAgICBPYmplY3Qua2V5cyhjaGFuZ2VzKVxuICAgICAgICAgICAgLy89PiBJZiB0aGUgZmlsdGVyaW5nIGxvZ2ljIGJlY29tZXMgbW9yZSBjb21wbGV4IGhlcmUsIHdlIGNhbiB1c2UgU3dhbC5pc1ZhbGlkUGFyYW1ldGVyXG4gICAgICAgICAgICAuZmlsdGVyKChwcm9wKTogcHJvcCBpcyBrZXlvZiBTd2VldEFsZXJ0T3B0aW9ucyA9PiAhcHJvcC5zdGFydHNXaXRoKCdzd2FsJykpXG4gICAgICAgICAgICAuZm9yRWFjaCh0aGlzLm1hcmtUb3VjaGVkKTtcblxuICAgICAgICAvLz0+IEV2ZW50dWFsbHkgdHJpZ2dlciByZS1yZW5kZXIgaWYgdGhlIG1vZGFsIGlzIG9wZW4uXG4gICAgICAgIHZvaWQgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmd1bGFyIGxpZmVjeWNsZSBob29rLlxuICAgICAqIENsb3NlcyB0aGUgU3dlZXRBbGVydCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZGVzdHJveWVkLlxuICAgICAqL1xuICAgIHB1YmxpYyBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgLy89PiBSZWxlYXNlIHRoZSBtb2RhbCBpZiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCBhbmQgaWYgdGhhdCBiZWhhdmlvdXIgaXMgbm90IGRpc2FibGVkLlxuICAgICAgICBjb25zdCBkaXNtaXNzT25EZXN0cm95ID0gdGhpcy5zd2FsRGlzbWlzc09uRGVzdHJveSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRoaXMubW9kdWxlTGV2ZWxEaXNtaXNzT25EZXN0cm95XG4gICAgICAgICAgICA6IHRoaXMuc3dhbERpc21pc3NPbkRlc3Ryb3k7XG5cbiAgICAgICAgZGlzbWlzc09uRGVzdHJveSAmJiB0aGlzLmRpc21pc3MoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgU3dlZXRBbGVydC5cbiAgICAgKlxuICAgICAqIFJldHVybnMgdGhlIFN3ZWV0QWxlcnQyIHByb21pc2UgZm9yIGNvbnZlbmllbmNlIGFuZCB1c2UgaW4gY29kZSBiZWhpbmQgdGVtcGxhdGVzLlxuICAgICAqIE90aGVyd2lzZSwgKGNvbmZpcm0pPVwibXlIYW5kbGVyKCRldmVudClcIiBhbmQgKGNhbmNlbCk9XCJteUhhbmRsZXIoJGV2ZW50KVwiIGNhbiBiZSB1c2VkIGluIHRlbXBsYXRlcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZmlyZSgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCBzd2FsID0gYXdhaXQgdGhpcy5zd2VldEFsZXJ0MkxvYWRlci5zd2FsO1xuXG4gICAgICAgIC8vPT4gQnVpbGQgdGhlIFN3ZWV0QWxlcnQyIG9wdGlvbnNcbiAgICAgICAgY29uc3Qgb3B0aW9uczogU3dlZXRBbGVydE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAvLz0+IE1lcmdlIHdpdGggY2FsY3VsYXRlZCBvcHRpb25zIHNldCBmb3IgdGhhdCBzcGVjaWZpYyBzd2FsXG4gICAgICAgICAgICAuLi50aGlzLnN3YWxPcHRpb25zLFxuXG4gICAgICAgICAgICAvLz0+IEhhbmRsZSBtb2RhbCBsaWZlY3ljbGUgZXZlbnRzXG4gICAgICAgICAgICBvbkJlZm9yZU9wZW46IChtb2RhbEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZU9wZW4uZW1pdCh7IG1vZGFsRWxlbWVudCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk9wZW46IChtb2RhbEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ3VycmVudGx5U2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub3Blbi5lbWl0KHsgbW9kYWxFbGVtZW50IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVuZGVyOiAobW9kYWxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIuZW1pdCh7IG1vZGFsRWxlbWVudCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsb3NlOiAobW9kYWxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0N1cnJlbnRseVNob3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZS5lbWl0KHsgbW9kYWxFbGVtZW50IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJDbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJDbG9zZS5lbWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy89PiBTaG93IHRoZSBTd2FsISBBbmQgd2FpdCBmb3IgY29uZmlybWF0aW9uIG9yIGRpbWlzc2FsLlxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzd2FsLmZpcmUob3B0aW9ucyk7XG5cbiAgICAgICAgLy89PiBFbWl0IG9uIChjb25maXJtKSBvciAoY2FuY2VsKVxuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlybS5lbWl0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbC5lbWl0KHJlc3VsdC5kaXNtaXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBtb2RhbCwgaWYgb3BlbmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlc3VsdCBUaGUgdmFsdWUgdGhhdCB0aGUgbW9kYWwgd2lsbCByZXNvbHZlIHdpdGgsIHRyaWdnZXJpbmcgZWl0aGVyIChjb25maXJtKSBvciAoY2FuY2VsKS5cbiAgICAgKiAgICAgICAgICAgICAgIElmIHRoZSBhcmd1bWVudCBpcyBub3QgcGFzc2VkLCAoZGltaXNzKSB3aWxsIGVtaXQgYHVuZGVmaW5lZGAuXG4gICAgICogICAgICAgICAgICAgICBTZWUge0BsaW5rIFN3YWwuY2xvc2V9XG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGRpc21pc3MocmVzdWx0PzogU3dlZXRBbGVydFJlc3VsdCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuaXNDdXJyZW50bHlTaG93bikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHN3YWwgPSBhd2FpdCB0aGlzLnN3ZWV0QWxlcnQyTG9hZGVyLnN3YWw7XG4gICAgICAgIHN3YWwuY2xvc2UocmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIFN3ZWV0QWxlcnQyIG9wdGlvbnMgd2hpbGUgdGhlIG1vZGFsIGlzIG9wZW5lZCwgY2F1c2luZyB0aGUgbW9kYWwgdG8gcmUtcmVuZGVyLlxuICAgICAqIElmIHRoZSBtb2RhbCBpcyBub3Qgb3BlbmVkLCB0aGUgY29tcG9uZW50IG9wdGlvbnMgd2lsbCBzaW1wbHkgYmUgdXBkYXRlZCBhbmQgdGhhdCdzIGl0LlxuICAgICAqXG4gICAgICogLyFcXCBQbGVhc2Ugbm90ZSB0aGF0IG5vdCBhbGwgU3dlZXRBbGVydDIgb3B0aW9ucyBhcmUgdXBkYXRhYmxlIHdoaWxlIHRoZSBtb2RhbCBpcyBvcGVuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyB1cGRhdGUob3B0aW9ucz86IFN3ZWV0QWxlcnRPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnN3YWxPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5pc0N1cnJlbnRseVNob3duKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgc3dhbCA9IGF3YWl0IHRoaXMuc3dlZXRBbGVydDJMb2FkZXIuc3dhbDtcbiAgICAgICAgY29uc3QgYWxsT3B0aW9ucyA9IHRoaXMuc3dhbE9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgdXBkYXRhYmxlT3B0aW9ucyA9IE9iamVjdC5rZXlzKGFsbE9wdGlvbnMpXG4gICAgICAgICAgICAuZmlsdGVyKChrZXkpOiBrZXkgaXMga2V5b2YgU3dlZXRBbGVydE9wdGlvbnMgPT4gc3dhbC5pc1VwZGF0YWJsZVBhcmFtZXRlcihrZXkpKVxuICAgICAgICAgICAgLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBvYmpba2V5XSA9IGFsbE9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfSwge30gYXMgeyBbUCBpbiBrZXlvZiBTd2VldEFsZXJ0T3B0aW9uc106IGFueSB9KTtcblxuICAgICAgICBzd2FsLnVwZGF0ZSh1cGRhdGFibGVPcHRpb25zKTtcbiAgICB9XG59XG4iXX0=