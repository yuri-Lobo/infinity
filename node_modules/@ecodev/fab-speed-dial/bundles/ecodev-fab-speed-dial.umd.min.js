!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/material/button"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ecodev/fab-speed-dial",["exports","@angular/core","@angular/common","@angular/material/button","rxjs","rxjs/operators"],t):t(((e=e||self).ecodev=e.ecodev||{},e.ecodev["fab-speed-dial"]={}),e.ng.core,e.ng.common,e.ng.material.button,e.rxjs,e.rxjs.operators)}(this,function(e,t,i,n,o,a){"use strict";var s=function(){function e(e,t){this.renderer=t,this.miniFabVisible=!1,this._parent=e.get(c)}return e.prototype.ngAfterContentInit=function(){var e=this;this._buttons.changes.subscribe(function(){e.initButtonStates(),e._parent.setActionsVisibility()}),this.initButtonStates()},e.prototype.initButtonStates=function(){var e=this;this._buttons.forEach(function(t,i){e.renderer.addClass(t._getHostElement(),"eco-fab-action-item"),e.changeElementStyle(t._getHostElement(),"z-index",""+(23-i))})},e.prototype.show=function(){var e=this;this._buttons&&(this.resetAnimationState(),this.miniFabVisible=!0,this.showMiniFabAnimation=setTimeout(function(){e._buttons.forEach(function(t,i){var n,o=0;"scale"===e._parent.animationMode?(o=3+65*i,n="scale(1)"):n=e.getTranslateFunction("0");var a=t._getHostElement();e.changeElementStyle(a,"transition-delay",o+"ms"),e.changeElementStyle(a,"opacity","1"),e.changeElementStyle(a,"transform",n)})},50))},e.prototype.resetAnimationState=function(){clearTimeout(this.showMiniFabAnimation),this.hideMiniFab&&(this.hideMiniFab.unsubscribe(),this.hideMiniFab=null)},e.prototype.hide=function(){var e=this;if(this._buttons){this.resetAnimationState();var t=this._buttons.map(function(t,i){var n,s="1",c=0;"scale"===e._parent.animationMode?(c=3-65*i,n="scale(0)",s="0"):n=e.getTranslateFunction(55*(i+1)-5*i+"px");var r=t._getHostElement();return e.changeElementStyle(r,"transition-delay",c+"ms"),e.changeElementStyle(r,"opacity",s),e.changeElementStyle(r,"transform",n),o.fromEvent(r,"transitionend").pipe(a.take(1))});this.hideMiniFab=o.forkJoin(t).subscribe(function(){return e.miniFabVisible=!1})}},e.prototype.getTranslateFunction=function(e){var t=this._parent.direction;return("up"===t||"down"===t?"translateY":"translateX")+"("+("down"===t||"right"===t?"-":"")+e+")"},e.prototype.changeElementStyle=function(e,t,i){this.renderer.setStyle(e,t,i)},e.decorators=[{type:t.Component,args:[{selector:"eco-fab-speed-dial-actions",template:'\n        <ng-content select="[mat-mini-fab]" *ngIf="miniFabVisible"></ng-content>'}]}],e.ctorParameters=function(){return[{type:t.Injector},{type:t.Renderer2}]},e.propDecorators={_buttons:[{type:t.ContentChildren,args:[n.MatButton]}]},e}(),c=function(){function e(e,i,n){this.elementRef=e,this.renderer=i,this.document=n,this.isInitialized=!1,this._direction="up",this._open=!1,this._animationMode="fling",this._fixed=!1,this._documentClickUnlistener=null,this.openChange=new t.EventEmitter}return Object.defineProperty(e.prototype,"fixed",{get:function(){return this._fixed},set:function(e){this._fixed=e,this._processOutsideClickState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},set:function(e){var t=this._open;this._open=e,t!==this._open&&(this.openChange.emit(this._open),this.isInitialized&&this.setActionsVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(e){var t=this._direction;this._direction=e,t!==this.direction&&(this._setElementClass(t,!1),this._setElementClass(this.direction,!0),this.isInitialized&&this.setActionsVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationMode",{get:function(){return this._animationMode},set:function(e){var t=this,i=this._animationMode;this._animationMode=e,i!==this._animationMode&&(this._setElementClass(i,!1),this._setElementClass(this.animationMode,!0),this.isInitialized&&Promise.resolve(null).then(function(){return t.open=!1}))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.isInitialized=!0,this.setActionsVisibility(),this._setElementClass(this.direction,!0),this._setElementClass(this.animationMode,!0)},e.prototype.ngOnDestroy=function(){this._unsetDocumentClickListener()},e.prototype.toggle=function(){this.open=!this.open},e.prototype._onClick=function(){!this.fixed&&this.open&&(this.open=!1)},e.prototype.setActionsVisibility=function(){this._childActions&&(this.open?this._childActions.show():this._childActions.hide(),this._processOutsideClickState())},e.prototype._setElementClass=function(e,t){var i="eco-"+e;t?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)},e.prototype._processOutsideClickState=function(){!this.fixed&&this.open?this._setDocumentClickListener():this._unsetDocumentClickListener()},e.prototype._setDocumentClickListener=function(){var e=this;this._documentClickUnlistener||(this._documentClickUnlistener=this.renderer.listen(this.document,"click",function(){e.open=!1}))},e.prototype._unsetDocumentClickListener=function(){this._documentClickUnlistener&&(this._documentClickUnlistener(),this._documentClickUnlistener=null)},e.decorators=[{type:t.Component,args:[{selector:"eco-fab-speed-dial",template:'\n        <div class="eco-fab-speed-dial-container">\n            <ng-content select="eco-fab-speed-dial-trigger"></ng-content>\n            <ng-content select="eco-fab-speed-dial-actions"></ng-content>\n        </div>\n    ',encapsulation:t.ViewEncapsulation.None,styles:["eco-fab-speed-dial{display:inline-block}eco-fab-speed-dial.eco-opened .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin180{transform:rotate(180deg)}eco-fab-speed-dial.eco-opened .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin360{transform:rotate(360deg)}eco-fab-speed-dial .eco-fab-speed-dial-container{position:relative;display:flex;align-items:center;z-index:20}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{pointer-events:auto;z-index:24}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin180,eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-trigger.eco-spin .spin360{transition:.6s cubic-bezier(.4,0,.2,1)}eco-fab-speed-dial .eco-fab-speed-dial-container eco-fab-speed-dial-actions{display:flex;position:absolute;height:0;width:0}eco-fab-speed-dial.eco-fling .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{display:block;opacity:1;transition:.3s cubic-bezier(.55,0,.55,.2)}eco-fab-speed-dial.eco-scale .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{transform:scale(0);transition:.3s cubic-bezier(.55,0,.55,.2);transition-duration:.14286s}eco-fab-speed-dial.eco-down eco-fab-speed-dial-actions{bottom:2px;left:7px}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container{flex-direction:column}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:1}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:column;order:2}eco-fab-speed-dial.eco-down .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-top:10px}eco-fab-speed-dial.eco-up eco-fab-speed-dial-actions{top:2px;left:7px}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container{flex-direction:column}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:2}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:column-reverse;order:1}eco-fab-speed-dial.eco-up .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-bottom:10px}eco-fab-speed-dial.eco-left eco-fab-speed-dial-actions{top:7px;left:2px}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container{flex-direction:row}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:2}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:row-reverse;order:1}eco-fab-speed-dial.eco-left .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-right:10px}eco-fab-speed-dial.eco-right eco-fab-speed-dial-actions{top:7px;right:2px}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container{flex-direction:row}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-trigger{order:1}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-actions{flex-direction:row;order:2}eco-fab-speed-dial.eco-right .eco-fab-speed-dial-container eco-fab-speed-dial-actions .eco-fab-action-item{margin-left:10px}"]}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:Document,decorators:[{type:t.Inject,args:[i.DOCUMENT]}]}]},e.propDecorators={fixed:[{type:t.Input}],open:[{type:t.HostBinding,args:["class.eco-opened"]},{type:t.Input}],direction:[{type:t.Input}],animationMode:[{type:t.Input}],openChange:[{type:t.Output}],_childActions:[{type:t.ContentChild,args:[s,{static:!1}]}],_onClick:[{type:t.HostListener,args:["click"]}]},e}(),r=function(){function e(e){this.spin=!1,this._parent=e.get(c)}return Object.defineProperty(e.prototype,"sp",{get:function(){return this.spin},enumerable:!0,configurable:!0}),e.prototype._onClick=function(e){this._parent.fixed||(this._parent.toggle(),e.stopPropagation())},e.decorators=[{type:t.Component,args:[{selector:"eco-fab-speed-dial-trigger",template:'\n        <ng-content select="[mat-fab]"></ng-content>'}]}],e.ctorParameters=function(){return[{type:t.Injector}]},e.propDecorators={sp:[{type:t.HostBinding,args:["class.eco-spin"]}],spin:[{type:t.Input}],_onClick:[{type:t.HostListener,args:["click",["$event"]]}]},e}(),d=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],declarations:[s,c,r],exports:[s,c,r]}]}],e}();e.EcoFabSpeedDialModule=d,e.ɵa=s,e.ɵb=c,e.ɵc=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ecodev-fab-speed-dial.umd.min.js.map