{"version":3,"file":"ecodev-fab-speed-dial.js","sources":["ng://@ecodev/fab-speed-dial/lib/fab-speed-dial.ts","ng://@ecodev/fab-speed-dial/lib/fab-speed-dial.module.ts"],"sourcesContent":["import {\n    AfterContentInit,\n    Component,\n    ContentChild,\n    ContentChildren,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    HostListener,\n    Inject,\n    Injector,\n    Input,\n    OnDestroy,\n    Output,\n    QueryList,\n    Renderer2,\n    ViewEncapsulation,\n} from '@angular/core';\nimport { MatButton } from '@angular/material/button';\nimport { DOCUMENT } from '@angular/common';\nimport { forkJoin, fromEvent, Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nconst Z_INDEX_ITEM = 23;\n\nexport type Direction = 'up' | 'down' | 'left' | 'right';\nexport type AnimationMode = 'fling' | 'scale';\n\n@Component({\n    selector: 'eco-fab-speed-dial-actions',\n    template: `\n        <ng-content select=\"[mat-mini-fab]\" *ngIf=\"miniFabVisible\"></ng-content>`,\n})\nexport class EcoFabSpeedDialActionsComponent implements AfterContentInit {\n    private _parent: EcoFabSpeedDialComponent;\n\n    @ContentChildren(MatButton) _buttons: QueryList<MatButton>;\n\n    /**\n     * Whether the min-fab button exist in DOM\n     */\n    public miniFabVisible = false;\n\n    /**\n     * The timeout ID for the callback to show the mini-fab buttons\n     */\n    private showMiniFabAnimation: ReturnType<typeof setTimeout>;\n\n    /**\n     * When we will remove mini-fab buttons from DOM, after the animation is complete\n     */\n    private hideMiniFab: Subscription | null;\n\n    constructor(injector: Injector, private renderer: Renderer2) {\n        this._parent = injector.get(EcoFabSpeedDialComponent);\n    }\n\n    ngAfterContentInit(): void {\n        this._buttons.changes.subscribe(() => {\n            this.initButtonStates();\n            this._parent.setActionsVisibility();\n        });\n\n        this.initButtonStates();\n    }\n\n    private initButtonStates(): void {\n        this._buttons.forEach((button, i) => {\n            this.renderer.addClass(button._getHostElement(), 'eco-fab-action-item');\n            this.changeElementStyle(button._getHostElement(), 'z-index', '' + (Z_INDEX_ITEM - i));\n        });\n    }\n\n    show(): void {\n        if (!this._buttons) {\n            return;\n        }\n\n        this.resetAnimationState();\n        this.miniFabVisible = true;\n\n        this.showMiniFabAnimation = setTimeout(() => {\n            this._buttons.forEach((button, i) => {\n                let transitionDelay = 0;\n                let transform;\n                if (this._parent.animationMode === 'scale') {\n                    // Incremental transition delay of 65ms for each action button\n                    transitionDelay = 3 + (65 * i);\n                    transform = 'scale(1)';\n                } else {\n                    transform = this.getTranslateFunction('0');\n                }\n\n                const hostElement = button._getHostElement();\n                this.changeElementStyle(hostElement, 'transition-delay', transitionDelay + 'ms');\n                this.changeElementStyle(hostElement, 'opacity', '1');\n                this.changeElementStyle(hostElement, 'transform', transform);\n            });\n        }, 50); // Be sure that *ngIf can show elements before trying to animate them\n    }\n\n    private resetAnimationState(): void {\n        clearTimeout(this.showMiniFabAnimation);\n        if (this.hideMiniFab) {\n            this.hideMiniFab.unsubscribe();\n            this.hideMiniFab = null;\n        }\n    }\n\n    hide(): void {\n        if (!this._buttons) {\n            return;\n        }\n\n        this.resetAnimationState();\n\n        const obs = this._buttons.map((button, i) => {\n            let opacity = '1';\n            let transitionDelay = 0;\n            let transform;\n\n            if (this._parent.animationMode === 'scale') {\n                transitionDelay = 3 - (65 * i);\n                transform = 'scale(0)';\n                opacity = '0';\n            } else {\n                transform = this.getTranslateFunction((55 * (i + 1) - (i * 5)) + 'px');\n            }\n\n            const hostElement = button._getHostElement();\n\n            this.changeElementStyle(hostElement, 'transition-delay', transitionDelay + 'ms');\n            this.changeElementStyle(hostElement, 'opacity', opacity);\n            this.changeElementStyle(hostElement, 'transform', transform);\n\n            return fromEvent(hostElement, 'transitionend').pipe(take(1));\n        });\n\n        // Wait for all animation to finish, then destroy their elements\n        this.hideMiniFab = forkJoin(obs).subscribe(() => this.miniFabVisible = false);\n\n    }\n\n    private getTranslateFunction(value: string): string {\n        const dir = this._parent.direction;\n        const translateFn = (dir === 'up' || dir === 'down') ? 'translateY' : 'translateX';\n        const sign = (dir === 'down' || dir === 'right') ? '-' : '';\n\n        return translateFn + '(' + sign + value + ')';\n    }\n\n    private changeElementStyle(elem: any, style: string, value: string) {\n        // FIXME - Find a way to create a \"wrapper\" around the action button(s) provided by the user, so we don't change it's style tag\n        this.renderer.setStyle(elem, style, value);\n    }\n}\n\n/** @dynamic @see https://github.com/angular/angular/issues/20351#issuecomment-344009887 */\n@Component({\n    selector: 'eco-fab-speed-dial',\n    template: `\n        <div class=\"eco-fab-speed-dial-container\">\n            <ng-content select=\"eco-fab-speed-dial-trigger\"></ng-content>\n            <ng-content select=\"eco-fab-speed-dial-actions\"></ng-content>\n        </div>\n    `,\n    styleUrls: ['fab-speed-dial.scss'],\n    encapsulation: ViewEncapsulation.None,\n})\nexport class EcoFabSpeedDialComponent implements OnDestroy, AfterContentInit {\n    private isInitialized = false;\n    private _direction: Direction = 'up';\n    private _open = false;\n    private _animationMode: AnimationMode = 'fling';\n    private _fixed = false;\n    private _documentClickUnlistener: (() => void) | null = null;\n\n    /**\n     * Whether this speed dial is fixed on screen (user cannot change it by clicking)\n     */\n    @Input() get fixed(): boolean {\n        return this._fixed;\n    }\n\n    set fixed(fixed: boolean) {\n        this._fixed = fixed;\n        this._processOutsideClickState();\n    }\n\n    /**\n     * Whether this speed dial is opened\n     */\n    @HostBinding('class.eco-opened')\n    @Input() get open(): boolean {\n        return this._open;\n    }\n\n    set open(open: boolean) {\n        const previousOpen = this._open;\n        this._open = open;\n        if (previousOpen !== this._open) {\n            this.openChange.emit(this._open);\n            if (this.isInitialized) {\n                this.setActionsVisibility();\n            }\n        }\n    }\n\n    /**\n     * The direction of the speed dial. Can be 'up', 'down', 'left' or 'right'\n     */\n    @Input() get direction(): Direction {\n        return this._direction;\n    }\n\n    set direction(direction: Direction) {\n        const previousDirection = this._direction;\n        this._direction = direction;\n        if (previousDirection !== this.direction) {\n            this._setElementClass(previousDirection, false);\n            this._setElementClass(this.direction, true);\n\n            if (this.isInitialized) {\n                this.setActionsVisibility();\n            }\n        }\n    }\n\n    /**\n     * The animation mode to open the speed dial. Can be 'fling' or 'scale'\n     */\n    @Input() get animationMode(): AnimationMode {\n        return this._animationMode;\n    }\n\n    set animationMode(animationMode: AnimationMode) {\n        const previousAnimationMode = this._animationMode;\n        this._animationMode = animationMode;\n        if (previousAnimationMode !== this._animationMode) {\n            this._setElementClass(previousAnimationMode, false);\n            this._setElementClass(this.animationMode, true);\n\n            if (this.isInitialized) {\n                // To start another detect lifecycle and force the \"close\" on the action buttons\n                Promise.resolve(null).then(() => this.open = false);\n            }\n        }\n    }\n\n    @Output() openChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n    @ContentChild(EcoFabSpeedDialActionsComponent, {static: false}) _childActions: EcoFabSpeedDialActionsComponent;\n\n    constructor(private elementRef: ElementRef, private renderer: Renderer2, @Inject(DOCUMENT) private document: Document) {\n    }\n\n    ngAfterContentInit(): void {\n        this.isInitialized = true;\n        this.setActionsVisibility();\n        this._setElementClass(this.direction, true);\n        this._setElementClass(this.animationMode, true);\n    }\n\n    ngOnDestroy() {\n        this._unsetDocumentClickListener();\n    }\n\n    /**\n     * Toggle the open state of this speed dial\n     */\n    public toggle(): void {\n        this.open = !this.open;\n    }\n\n    @HostListener('click')\n    _onClick(): void {\n        if (!this.fixed && this.open) {\n            this.open = false;\n        }\n    }\n\n    setActionsVisibility(): void {\n        if (!this._childActions) {\n            return;\n        }\n\n        if (this.open) {\n            this._childActions.show();\n        } else {\n            this._childActions.hide();\n        }\n        this._processOutsideClickState();\n    }\n\n    private _setElementClass(elemClass: string, isAdd: boolean): void {\n        const finalClass = `eco-${elemClass}`;\n        if (isAdd) {\n            this.renderer.addClass(this.elementRef.nativeElement, finalClass);\n        } else {\n            this.renderer.removeClass(this.elementRef.nativeElement, finalClass);\n        }\n    }\n\n    private _processOutsideClickState() {\n        if (!this.fixed && this.open) {\n            this._setDocumentClickListener();\n        } else {\n            this._unsetDocumentClickListener();\n        }\n    }\n\n    private _setDocumentClickListener() {\n        if (!this._documentClickUnlistener) {\n            this._documentClickUnlistener = this.renderer.listen(this.document, 'click', () => {\n                this.open = false;\n            });\n        }\n    }\n\n    private _unsetDocumentClickListener() {\n        if (this._documentClickUnlistener) {\n            this._documentClickUnlistener();\n            this._documentClickUnlistener = null;\n        }\n    }\n\n}\n\n@Component({\n    selector: 'eco-fab-speed-dial-trigger',\n    template: `\n        <ng-content select=\"[mat-fab]\"></ng-content>`,\n})\nexport class EcoFabSpeedDialTriggerComponent {\n    private _parent: EcoFabSpeedDialComponent;\n\n    /**\n     * Whether this trigger should spin (360dg) while opening the speed dial\n     */\n    @HostBinding('class.eco-spin') get sp() {\n        return this.spin;\n    }\n\n    @Input() spin = false;\n\n    constructor(injector: Injector) {\n        this._parent = injector.get(EcoFabSpeedDialComponent);\n    }\n\n    @HostListener('click', ['$event'])\n    _onClick(event: Event): void {\n        if (!this._parent.fixed) {\n            this._parent.toggle();\n            event.stopPropagation();\n        }\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n    EcoFabSpeedDialActionsComponent,\n    EcoFabSpeedDialComponent,\n    EcoFabSpeedDialTriggerComponent,\n} from './fab-speed-dial';\n\n@NgModule({\n    imports: [CommonModule],\n    declarations: [\n        EcoFabSpeedDialActionsComponent,\n        EcoFabSpeedDialComponent,\n        EcoFabSpeedDialTriggerComponent,\n    ],\n    exports: [\n        EcoFabSpeedDialActionsComponent,\n        EcoFabSpeedDialComponent,\n        EcoFabSpeedDialTriggerComponent,\n    ],\n})\nexport class EcoFabSpeedDialModule {\n}\n"],"names":[],"mappings":"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"}