/// <reference types="forge-viewer" />
import { EventEmitter, OnDestroy } from '@angular/core';
import { Observable } from 'rxjs';
import { ScriptService } from '../service/script.service';
import { FitToViewEventArgs, FullscreenEventArgs, GeometryLoadedEventArgs, HideEventArgs, IsolateEventArgs, ObjectTreeCreatedEventArgs, ObjectTreeUnavailableEventArgs, ResetEventArgs, SelectionChangedEventArgs, ShowEventArgs, ViewerEventArgs } from '../extensions/extension';
import { BasicExtension } from '../extensions/basic-extension';
export interface DocumentChangedEvent {
    document: Autodesk.Viewing.Document;
    viewerComponent: ViewerComponent;
    viewer: Autodesk.Viewing.Viewer3D;
}
export interface ItemLoadedEvent {
    item: Autodesk.Viewing.ViewerItem;
    viewer: Autodesk.Viewing.Viewer3D;
    viewerComponent: ViewerComponent;
}
export interface ViewerInitializedEvent {
    viewerComponent: ViewerComponent;
    viewer: Autodesk.Viewing.Viewer3D;
}
export interface ViewerOptions {
    initializerOptions: Autodesk.Viewing.InitializerOptions;
    viewerConfig?: Autodesk.Viewing.ViewerConfig;
    headlessViewer?: boolean;
    showFirstViewable?: boolean;
    enableMemoryManagement?: boolean;
    onViewerScriptsLoaded?: () => void;
    onViewerInitialized: (args: ViewerInitializedEvent) => void;
    version?: string | number;
}
export declare class ViewerComponent implements OnDestroy {
    private script;
    containerId: string;
    onDocumentChanged: EventEmitter<DocumentChangedEvent>;
    onItemLoaded: EventEmitter<ItemLoadedEvent>;
    onError: EventEmitter<Autodesk.Viewing.ErrorCodes>;
    onFitToView: EventEmitter<FitToViewEventArgs>;
    onFullscreen: EventEmitter<FullscreenEventArgs>;
    onGeometryLoaded: EventEmitter<GeometryLoadedEventArgs>;
    onHide: EventEmitter<HideEventArgs>;
    onIsolate: EventEmitter<IsolateEventArgs>;
    onObjectTreeCreated: EventEmitter<ObjectTreeCreatedEventArgs>;
    onObjectTreeUnavailable: EventEmitter<ObjectTreeUnavailableEventArgs>;
    onReset: EventEmitter<ResetEventArgs>;
    onSelectionChanged: EventEmitter<SelectionChangedEventArgs>;
    onShow: EventEmitter<ShowEventArgs>;
    showDebugMessages: boolean;
    private _viewerOptions;
    private viewerInitialized;
    private viewer;
    private documentId;
    private unsubscribe;
    private basicExt;
    /**
     * Helper to allow callers to specify documentId with or without the required urn: prefix
     */
    private static verifyUrn;
    constructor(script: ScriptService);
    set viewerOptions(options: ViewerOptions);
    get viewerOptions(): ViewerOptions;
    ngOnDestroy(): void;
    /**
     * Helper method to get some default viewer options
     */
    getDefaultViewerOptions(onViewerInitialized: (args: ViewerInitializedEvent) => void, getAccessToken: (onGetAccessToken: (token: string, expire: number) => void) => void): ViewerOptions;
    /**
     * Get a reference to the current 3D viewer
     */
    get Viewer3D(): Autodesk.Viewing.Viewer3D;
    /**
     * Get the document urn that has been loaded
     */
    get DocumentId(): string;
    /**
     * Set the document urn, which triggers the viewer to load the document
     */
    set DocumentId(value: string);
    /**
     * Get the container element
     */
    get Container(): HTMLElement;
    /**
     * Get the id assigned to the viewer
     */
    get ContainerId(): string;
    get basicExtension(): BasicExtension;
    get extensionEvents(): Observable<ViewerEventArgs> | null;
    loadDocumentNode(document: Autodesk.Viewing.Document, bubbleNode: Autodesk.Viewing.BubbleNode, options?: object): Promise<Autodesk.Viewing.Model>;
    /**
     * We don't bundle Autodesk's scripts with the component, and we don't really want users to have
     * to add the scripts to their index.html pages. So we'll load them when required.
     */
    private loadScripts;
    /**
     * Initialises the viewer
     */
    private initialiseViewer;
    private initialized;
    /**
     * Loads a model in to the viewer via it's urn
     */
    private loadModel;
    /**
     * Document successfully loaded
     */
    private onDocumentLoadSuccess;
    /**
     * Failed to load document
     */
    private onDocumentLoadFailure;
    /**
     * Register our BasicExtension with the Forge Viewer
     */
    private registerBasicExtension;
    /**
     * Subscript to BasicExtension events when the extension has been
     * succesfully loaded by the viewer.
     */
    private extensionLoaded;
    private unregisterBasicExtension;
    /**
     * Add list of extensions to the viewer config that has been provided
     * The allows the user to register their own extensions.
     */
    private addBasicExtensionConfig;
    private log;
    private error;
    private getDivName;
}
